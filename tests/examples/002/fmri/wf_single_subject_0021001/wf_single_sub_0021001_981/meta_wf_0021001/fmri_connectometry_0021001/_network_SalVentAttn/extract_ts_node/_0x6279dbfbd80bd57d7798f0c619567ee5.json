[('ID', '0021001'), ('atlas', 'DesikanKlein2012'), ('block_size', None), ('c_boot', 0), ('conf', None), ('coords', [('54.1869893869', '-35.0466519050', '36.2273803161'), ('-13.2938431774', '-67.5089336520', '-5.8789120291'), ('7.5376302586', '-24.8548822848', '58.6949054419'), ('-5.2133712660', '-18.3926031294', '39.6963015647'), ('22.6098634963', '-4.5623073536', '-31.9564068692'), ('-29.8504807002', '-89.2247094275', '1.5027263596'), ('-6.1731694281', '-25.6816319259', '57.7997505790'), ('20.5507772021', '-2.8352331606', '-0.7077720207'), ('-4.0427093760', '-57.2475809142', '-38.7594260928'), ('5.2300613497', '37.4843217451', '-17.2699386503'), ('24.1039933444', '-29.3789517471', '-18.4342762063'), ('-22.8722612650', '-5.0318313353', '-32.0425795783'), ('34.7928110244', '-43.0476052809', '-20.9995181652'), ('-35.8306627355', '12.0902448404', '47.0801179336'), ('13.6988191034', '-66.4238687428', '-5.0391890480')]), ('dir_path', '/Users/derekpisner/Applications/PyNets/tests/examples/002/fmri/DesikanKlein2012'), ('func_file', ('/Users/derekpisner/Applications/PyNets/tests/examples/002/fmri/002.nii.gz', '4bfd468a8fbe25571acba334793eb936')), ('function_str', 'def extract_ts_parc(net_parcels_map_nifti, conf, func_file, coords, roi, dir_path, ID, network, smooth, atlas,\n                    uatlas, labels, c_boot, block_size, hpass, detrending=True):\n    """\n    API for employing Nilearn\'s NiftiLabelsMasker to extract fMRI time-series data from spherical ROI\'s based on a\n    given 3D atlas image of integer-based voxel intensities. The resulting time-series can then optionally be resampled\n    using circular-block bootrapping. The final 2D m x n array is ultimately saved to file in .npy format\n\n    Parameters\n    ----------\n    net_parcels_map_nifti : Nifti1Image\n        A nibabel-based nifti image consisting of a 3D array with integer voxel intensities corresponding to ROI\n        membership.\n    conf : str\n        File path to a confound regressor file for reduce noise in the time-series when extracting from ROI\'s.\n    func_file : str\n        File path to a preprocessed functional Nifti1Image in standard space.\n    coords : list\n        List of (x, y, z) tuples corresponding to the center-of-mass of each parcellation node.\n    dir_path : str\n        Path to directory containing subject derivative data for given run.\n    ID : str\n        A subject id or other unique identifier.\n    roi : str\n        File path to binarized/boolean region-of-interest Nifti1Image file.\n    network : str\n        Resting-state network based on Yeo-7 and Yeo-17 naming (e.g. \'Default\')\n        used to filter nodes in the study of brain subgraphs.\n    smooth : int\n        Smoothing width (mm fwhm) to apply to time-series when extracting signal from ROI\'s.\n    atlas : str\n        Name of atlas parcellation used.\n    uatlas : str\n        File path to atlas parcellation Nifti1Image in MNI template space.\n    labels : list\n        List of string labels corresponding to graph nodes.\n    c_boot : int\n        Number of bootstraps if user specified circular-block bootstrapped resampling of the node-extracted time-series.\n    block_size : int\n        Size bootstrap blocks if bootstrapping (c_boot) is performed.\n    hpass : bool\n        High-pass filter values (Hz) to apply to node-extracted time-series.\n    detrending : bool\n        Indicates whether to remove linear trends from time-series when extracting across nodes. Default is True.\n\n    Returns\n    -------\n    ts_within_nodes : array\n        2D m x n array consisting of the time-series signal for each ROI node where m = number of scans and\n        n = number of ROI\'s, where ROI\'s are parcel volumes.\n    smooth : int\n        Smoothing width (mm fwhm) to apply to time-series when extracting signal from ROI\'s.\n    dir_path : str\n        Path to directory containing subject derivative data for given run.\n    atlas : str\n        Name of atlas parcellation used.\n    uatlas : str\n        File path to atlas parcellation Nifti1Image in MNI template space.\n    labels : list\n        List of string labels corresponding to ROI nodes.\n    coords : list\n        List of (x, y, z) tuples corresponding to the center-of-mass of each parcellation node.\n    c_boot : int\n        Number of bootstraps if user specified circular-block bootstrapped resampling of the node-extracted time-series.\n    hpass : bool\n        High-pass filter values (Hz) to apply to node-extracted time-series.\n    """\n    import warnings\n    warnings.filterwarnings("ignore")\n    import os.path as op\n    from nilearn import input_data\n    from pynets import utils\n\n    if not op.isfile(func_file):\n        raise ValueError(\'\\nERROR: Functional data input not found! Check that the file(s) specified with the -i flag \'\n                         \'exist(s)\')\n\n    if conf:\n        if not op.isfile(conf):\n            raise ValueError(\'\\nERROR: Confound regressor file not found! Check that the file(s) specified with the \'\n                             \'-conf flag exist(s)\')\n\n    parcel_masker = input_data.NiftiLabelsMasker(labels_img=net_parcels_map_nifti, background_label=0,\n                                                 standardize=True, smoothing_fwhm=float(smooth), high_pass=hpass,\n                                                 detrend=detrending, verbose=2, resampling_target=\'data\')\n    ts_within_nodes = parcel_masker.fit_transform(func_file, confounds=conf)\n    if ts_within_nodes is None:\n        raise RuntimeError(\'\\nERROR: Time-series extraction failed!\')\n    if float(c_boot) > 0:\n        print("%s%s%s" % (\'Performing circular block bootstrapping iteration: \', c_boot, \'...\'))\n        ts_within_nodes = utils.timeseries_bootstrap(ts_within_nodes, block_size)[0]\n    print("%s%s%d%s" % (\'\\nTime series has {0} samples\'.format(ts_within_nodes.shape[0]), \' mean extracted from \',\n                        len(coords), \' volumetric ROI\\\'s\'))\n    print("%s%s%s" % (\'Smoothing FWHM: \', smooth, \' mm\\n\'))\n    print("%s%s%s" % (\'Applying high-pass filter: \', hpass, \' Hz\\n\'))\n\n    # Save time series as file\n    utils.save_ts_to_file(roi, network, ID, dir_path, ts_within_nodes, c_boot)\n    node_size = None\n    return ts_within_nodes, node_size, smooth, dir_path, atlas, uatlas, labels, coords, c_boot, hpass\n'), ('hpass', None), ('labels', ['nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan', 'nan']), ('net_parcels_map_nifti', <nibabel.nifti1.Nifti1Image object at 0x105afd048>), ('network', 'SalVentAttn'), ('roi', None), ('smooth', 0), ('uatlas', '/Users/derekpisner/Applications/PyNets/tests/examples/002/fmri/reg_fmri/anat_reg/DesikanKlein2012_t1w_mni_gm.nii.gz')]