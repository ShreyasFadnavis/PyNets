Node: meta_wf_0021001 (dmri_connectometry_0021001 (get_node_membership_node (utility)
=====================================================================================


 Hierarchy : wf_single_sub_0021001_dmri_42.meta_wf_0021001.dmri_connectometry_0021001.get_node_membership_node
 Exec ID : get_node_membership_node.cI.c1


Original Inputs
---------------


* coords : [[-39.40774665  -9.04783285  44.00269397]
 [ -7.43663158 -59.25827368  37.86349474]
 [ -5.29388682  39.69537381   6.23667906]
 [-13.39120945 -16.23295962  14.89086219]
 [-34.         -34.          -5.75      ]
 [-27.66990809 -59.83579899 -38.62715683]
 [-20.38812245 -47.51814791 -35.86346142]
 [-37.63897527  42.55678958  18.29409151]
 [-12.9633117   33.74328278  41.0403874 ]
 [-11.61810386 -18.42696522   6.79313959]
 [-12.63600396   9.12141444  10.67334322]
 [-24.48445284   1.78268339   1.53719292]
 [-19.39536138  -3.38457389  -0.67475728]
 [ -1.1030303  -10.01212121  -1.35151515]
 [ -4.27663331 -39.44496763 -32.73866981]
 [ -6.3191898  -27.34677842 -34.81255457]
 [-25.47759724 -22.06794682 -12.82964057]
 [-21.47991968  -5.22188755 -18.10341365]
 [-36.20065008   1.58607326  -0.25890736]
 [-46.02027559  13.76712598  12.43307087]
 [-46.38786232  32.45126812   5.49402174]
 [ -9.7127572  -81.95144033   6.20534979]
 [ -2.06963788 -25.01671309   9.76044568]
 [ -9.28142077  11.34699454  -7.08469945]
 [ -9.84567901 -15.81265432  -9.73657407]
 [-28.          -2.          -8.        ]
 [-40.52919559  32.92976725 -10.45406288]
 [ 14.35376532 -15.67192061  15.144892  ]
 [ 25.46987952 -15.01204819 -11.63855422]
 [ -1.68587896 -47.99711816 -50.91066282]
 [ -1.74736842 -50.93684211 -26.46315789]
 [ 12.1919403  -17.78547264   7.17114428]
 [ 14.20635674  10.36005693  11.24691651]
 [ 25.62502444   2.43147605   1.5769306 ]
 [ 20.5507772   -2.83523316  -0.70777202]
 [ 26.30807397 -20.53450609 -12.81235904]
 [ 21.93        -4.24888889 -18.41777778]
 [  9.19578313  11.24698795  -6.40060241]
 [-24.55775125 -62.69099855  50.64849169]
 [ 10.77466562 -15.93674272  -9.79040126]
 [-22.03214562 -31.49922541 -17.83152595]
 [-50.25136791 -10.39928915  -6.63124912]
 [-53.12214603 -38.11717278  34.63077387]
 [-44.98768633 -21.46208684   8.45106935]
 [ -3.46808511   2.76595745 -10.91489362]
 [  6.45205479   3.70547945 -11.23287671]
 [ -4.46764253 -50.63995891 -13.20005136]
 [ -3.64342857 -66.68971429 -23.60742857]
 [ -4.04270938 -57.24758091 -38.75942609]
 [ -6.17316943 -25.68163193  57.79975058]
 [-57.46055697 -27.80877621 -12.65871519]
 [  5.4625651   21.54329427  28.04296875]
 [ 37.53156103  12.98349921  47.44722368]
 [  9.32470444 -79.53383612  23.1946596 ]
 [ 22.6098635   -4.56230735 -31.95640687]
 [ 34.79281102 -43.04760528 -20.99951817]
 [ 46.24613187 -65.41561533  30.40984289]
 [ 49.02416244 -28.17928934 -27.29678511]
 [  7.90322581 -44.98354839  19.30645161]
 [ 32.80915227 -86.42231717   2.04755712]
 [ 22.2122093   36.89347337 -17.91757314]
 [ 13.6988191  -66.42386874  -5.03918905]
 [  5.23006135  37.48432175 -17.26993865]
 [ 58.32844866 -25.23297708 -12.50093654]
 [ 24.10399334 -29.37895175 -18.43427621]
 [  7.53763026 -24.85488228  58.69490544]
 [ 48.40639193  15.13254836  13.54583684]
 [ 42.43845252  34.29503712 -11.10746385]
 [ 48.22581281  32.69162562   4.66876847]
 [ 12.23624954 -79.71576227   7.05204873]
 [ 45.29406347 -21.88872143  43.83195177]
 [  5.79049467 -16.93622696  39.24515034]
 [ 41.46036719  -7.7177768   44.17087537]
 [  9.59039273 -57.63299253  37.98847777]
 [ -5.28925825  20.86876706  31.68097246]
 [ 39.24827087  43.88000643  17.95375583]
 [ 13.54483621  34.52466355  38.67653984]
 [ 25.51007813 -60.26367188  53.30015625]
 [ 51.52368964  -6.54267157  -8.07164795]
 [ 54.18698939 -35.04665191  36.22738032]
 [-35.83066274  12.09024484  47.08011793]
 [  5.86218182  37.532        2.95709091]
 [ 46.06022409 -17.97478992   8.11204482]
 [ 37.50006131   2.23874923   0.19264255]
 [ -7.08703156 -81.85428994  21.14423077]
 [-22.87226126  -5.03183134 -32.04257958]
 [-36.15644349 -46.70172542 -20.03937918]
 [-41.55397548 -70.55625079  32.08886361]
 [-48.32543193 -28.42695232 -28.30117484]
 [ -6.3807937  -46.63617086  19.25295365]
 [-29.8504807  -89.22470943   1.50272636]
 [-22.22757966  36.75416755 -17.43680101]
 [-13.29384318 -67.50893365  -5.87891203]
 [ -5.10974742  41.00942725 -16.83137673]
 [-43.53290192 -23.8616872   43.53906128]
 [ -5.21337127 -18.39260313  39.69630156]]
* error : <undefined>
* function_str : def get_node_membership(network, infile, coords, labels, parc, parcel_list, perc_overlap=0.75, error=4):
    """
    Evaluate the affinity of any arbitrary list of coordinate or parcel nodes for a user-specified RSN based on
    Yeo-7 or Yeo-17 definitions.

    Parameters
    ----------
    network : str
        Resting-state network based on Yeo-7 and Yeo-17 naming (e.g. 'Default') used to filter nodes in the study of
        brain subgraphs.
    infile : str
        File path to Nifti1Image object whose affine will provide sampling reference for evaluation spatial proximity.
    coords : list
        List of (x, y, z) tuples in mm-space corresponding to a coordinate atlas used or
        which represent the center-of-mass of each parcellation node.
    labels : list
        List of string labels corresponding to ROI nodes.
    parc : bool
        Indicates whether to use parcels instead of coordinates as ROI nodes.
    parcel_list : list
        List of 3D boolean numpy arrays or binarized Nifti1Images corresponding to ROI masks.
    perc_overlap : float
        Value 0-1 indicating a threshold of spatial overlap to use as a spatial error cushion in the case of
        evaluating RSN membership from a given list of parcel masks. Default is 0.75.
    error : int
        Rounded euclidean distance, in units of voxel number, to use as a spatial error cushion in the case of
        evaluating RSN membership from a given list of coordinates. Default is 4.

    Returns
    -------
    coords_mm : list
        Filtered list of (x, y, z) tuples in mm-space with a spatial affinity for the specified RSN.
    RSN_parcels : list
        Filtered list of 3D boolean numpy arrays or binarized Nifti1Images corresponding to ROI masks with a spatial
        affinity for the specified RSN.
    net_labels : list
        Filtered list of string labels corresponding to ROI nodes with a spatial affinity for the specified RSN.
    network : str
        Resting-state network based on Yeo-7 and Yeo-17 naming (e.g. 'Default') used to filter nodes in the study of
        brain subgraphs.
    """
    import warnings
    warnings.filterwarnings("ignore")
    from nilearn.image import resample_img
    from pynets.nodemaker import get_sphere, mmToVox, VoxTomm
    import pkg_resources
    import pandas as pd

    # Determine whether input is from 17-networks or 7-networks
    seven_nets = ['Vis', 'SomMot', 'DorsAttn', 'SalVentAttn', 'Limbic', 'Cont', 'Default']
    seventeen_nets = ['VisCent', 'VisPeri', 'SomMotA', 'SomMotB', 'DorsAttnA', 'DorsAttnB', 'SalVentAttnA',
                      'SalVentAttnB', 'LimbicOFC', 'LimbicTempPole', 'ContA', 'ContB', 'ContC', 'DefaultA', 'DefaultB',
                      'DefaultC', 'TempPar']

    # Load subject func data
    bna_img = nib.load(infile)
    x_vox = np.diagonal(bna_img.affine[:3, 0:3])[0]
    y_vox = np.diagonal(bna_img.affine[:3, 0:3])[1]
    z_vox = np.diagonal(bna_img.affine[:3, 0:3])[2]

    if network in seventeen_nets:
        if x_vox <= 1 and y_vox <= 1 and z_vox <= 1:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/BIGREF1mm.nii.gz")
        else:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/BIGREF2mm.nii.gz")

        # Grab RSN reference file
        nets_ref_txt = pkg_resources.resource_filename("pynets", "rsnrefs/Schaefer2018_1000_17nets_ref.txt")
    elif network in seven_nets:
        if x_vox <= 1 and y_vox <= 1 and z_vox <= 1:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/SMALLREF1mm.nii.gz")
        else:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/SMALLREF2mm.nii.gz")

        # Grab RSN reference file
        nets_ref_txt = pkg_resources.resource_filename("pynets", "rsnrefs/Schaefer2018_1000_7nets_ref.txt")
    else:
        nets_ref_txt = None

    if not nets_ref_txt:
        raise ValueError("%s%s%s" % ('Network: ', str(network), ' not found!\nSee valid network names using the --help '
                                                                'flag with pynets_run.py'))

    # Create membership dictionary
    dict_df = pd.read_csv(nets_ref_txt, sep="\t", header=None, names=["Index", "Region", "X", "Y", "Z"])
    dict_df.Region.unique().tolist()
    ref_dict = {v: k for v, k in enumerate(dict_df.Region.unique().tolist())}
    par_img = nib.load(par_file)
    par_data = par_img.get_fdata()
    RSN_ix = list(ref_dict.keys())[list(ref_dict.values()).index(network)]
    RSNmask = par_data[:, :, :, RSN_ix]
    bna_aff = bna_img.affine

    coords_vox = []
    for i in coords:
        coords_vox.append(mmToVox(bna_aff, i))
    coords_vox = list(tuple(map(lambda y: isinstance(y, float) and int(round(y, 0)), x)) for x in coords_vox)
    if parc is False:
        i = -1
        RSN_parcels = None
        RSN_coords_vox = []
        net_labels = []
        for coords in coords_vox:
            sphere_vol = np.zeros(RSNmask.shape, dtype=bool)
            sphere_vol[tuple(coords)] = 1
            i = i + 1
            if (RSNmask.astype('bool') & sphere_vol).any():
                print("%s%s%s%s" % (coords, ' coords falls within ', network, '...'))
                RSN_coords_vox.append(coords)
                net_labels.append(labels[i])
                continue
            else:
                inds = get_sphere(coords, error, (np.abs(x_vox), y_vox, z_vox), RSNmask.shape)
                sphere_vol[tuple(inds.T)] = 1
                if (RSNmask.astype('bool') & sphere_vol).any():
                    print("%s%s%.2f%s%s%s" % (coords, ' coords is within a + or - ', float(error),
                                              ' mm neighborhood of ',
                                              network, '...'))
                    RSN_coords_vox.append(coords)
                    net_labels.append(labels[i])

        coords_mm = []
        for i in RSN_coords_vox:
            coords_mm.append(VoxTomm(bna_aff, i))
        coords_mm = list(set(list(tuple(x) for x in coords_mm)))
    else:
        i = 0
        RSN_parcels = []
        coords_with_parc = []
        net_labels = []
        for parcel in parcel_list:
            parcel_vol = np.zeros(RSNmask.shape, dtype=bool)
            parcel_data_reshaped = resample_img(parcel, target_affine=par_img.affine,
                                                target_shape=RSNmask.shape).get_fdata()
            parcel_vol[parcel_data_reshaped == 1] = 1

            # Count number of unique voxels where overlap of parcel and mask occurs
            overlap_count = len(np.unique(np.where((RSNmask.astype('uint8') == 1) & (parcel_vol.astype('uint8') == 1))))

            # Count number of total unique voxels within the parcel
            total_count = len(np.unique(np.where((parcel_vol.astype('uint8') == 1))))

            # Calculate % overlap
            try:
                overlap = float(overlap_count / total_count)
            except RuntimeWarning:
                print('\nWarning: No overlap with roi mask!\n')
                overlap = float(0)

            if overlap >= perc_overlap:
                print("%.2f%s%s%s%s%s" % (100 * overlap, '% of parcel ', labels[i], ' falls within ', str(network),
                                          ' mask...'))
                RSN_parcels.append(parcel)
                coords_with_parc.append(coords[i])
                net_labels.append(labels[i])
            i = i + 1
        coords_mm = list(set(list(tuple(x) for x in coords_with_parc)))

    bna_img.uncache()
    if len(coords_mm) <= 1:
        raise ValueError("%s%s%s" % ('\nERROR: No coords from the specified atlas found within ', network, ' network.'))

    return coords_mm, RSN_parcels, net_labels, network

* infile : /usr/local/fsl/data/standard/MNI152_T1_2mm_brain.nii.gz
* labels : [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan]
* network : SalVentAttn
* networks_list : None
* par_max : 96
* parc : True
* parcel_list : [<nibabel.nifti1.Nifti1Image object at 0xa1cdd20b8>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71828>, <nibabel.nifti1.Nifti1Image object at 0xd1ed718d0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed719b0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71b00>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71c50>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71da0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71ef0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91080>, <nibabel.nifti1.Nifti1Image object at 0xd1ed911d0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91320>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91470>, <nibabel.nifti1.Nifti1Image object at 0xd1ed915c0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91710>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91860>, <nibabel.nifti1.Nifti1Image object at 0xd1ed919b0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91b00>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91c50>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91da0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774080>, <nibabel.nifti1.Nifti1Image object at 0xa1c7741d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774320>, <nibabel.nifti1.Nifti1Image object at 0xa1c774470>, <nibabel.nifti1.Nifti1Image object at 0xa1c7745c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774710>, <nibabel.nifti1.Nifti1Image object at 0xa1c774860>, <nibabel.nifti1.Nifti1Image object at 0xa1c7749b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774b00>, <nibabel.nifti1.Nifti1Image object at 0xa1c774c50>, <nibabel.nifti1.Nifti1Image object at 0xa1c774da0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f080>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f320>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f470>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f5c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f710>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f860>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f9b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fb00>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fc50>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fda0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a080>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a320>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a470>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a5c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a710>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a860>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a9b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78ab00>, <nibabel.nifti1.Nifti1Image object at 0xa1c78ac50>, <nibabel.nifti1.Nifti1Image object at 0xa1c78ada0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78aef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794080>, <nibabel.nifti1.Nifti1Image object at 0xa1c7941d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794320>, <nibabel.nifti1.Nifti1Image object at 0xa1c794470>, <nibabel.nifti1.Nifti1Image object at 0xa1c7945c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794710>, <nibabel.nifti1.Nifti1Image object at 0xa1c794860>, <nibabel.nifti1.Nifti1Image object at 0xa1c7949b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794b00>, <nibabel.nifti1.Nifti1Image object at 0xa1c794c50>, <nibabel.nifti1.Nifti1Image object at 0xa1c794da0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e080>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e320>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e470>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e5c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e710>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e860>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e9b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79eb00>, <nibabel.nifti1.Nifti1Image object at 0xa1c79ec50>, <nibabel.nifti1.Nifti1Image object at 0xa1c79eda0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79eef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9080>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a91d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9320>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9470>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a95c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9710>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9860>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a99b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9b00>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9c50>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9da0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c080>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c320>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c470>]
* perc_overlap : <undefined>

Execution Inputs
----------------


* coords : [[-39.40774665  -9.04783285  44.00269397]
 [ -7.43663158 -59.25827368  37.86349474]
 [ -5.29388682  39.69537381   6.23667906]
 [-13.39120945 -16.23295962  14.89086219]
 [-34.         -34.          -5.75      ]
 [-27.66990809 -59.83579899 -38.62715683]
 [-20.38812245 -47.51814791 -35.86346142]
 [-37.63897527  42.55678958  18.29409151]
 [-12.9633117   33.74328278  41.0403874 ]
 [-11.61810386 -18.42696522   6.79313959]
 [-12.63600396   9.12141444  10.67334322]
 [-24.48445284   1.78268339   1.53719292]
 [-19.39536138  -3.38457389  -0.67475728]
 [ -1.1030303  -10.01212121  -1.35151515]
 [ -4.27663331 -39.44496763 -32.73866981]
 [ -6.3191898  -27.34677842 -34.81255457]
 [-25.47759724 -22.06794682 -12.82964057]
 [-21.47991968  -5.22188755 -18.10341365]
 [-36.20065008   1.58607326  -0.25890736]
 [-46.02027559  13.76712598  12.43307087]
 [-46.38786232  32.45126812   5.49402174]
 [ -9.7127572  -81.95144033   6.20534979]
 [ -2.06963788 -25.01671309   9.76044568]
 [ -9.28142077  11.34699454  -7.08469945]
 [ -9.84567901 -15.81265432  -9.73657407]
 [-28.          -2.          -8.        ]
 [-40.52919559  32.92976725 -10.45406288]
 [ 14.35376532 -15.67192061  15.144892  ]
 [ 25.46987952 -15.01204819 -11.63855422]
 [ -1.68587896 -47.99711816 -50.91066282]
 [ -1.74736842 -50.93684211 -26.46315789]
 [ 12.1919403  -17.78547264   7.17114428]
 [ 14.20635674  10.36005693  11.24691651]
 [ 25.62502444   2.43147605   1.5769306 ]
 [ 20.5507772   -2.83523316  -0.70777202]
 [ 26.30807397 -20.53450609 -12.81235904]
 [ 21.93        -4.24888889 -18.41777778]
 [  9.19578313  11.24698795  -6.40060241]
 [-24.55775125 -62.69099855  50.64849169]
 [ 10.77466562 -15.93674272  -9.79040126]
 [-22.03214562 -31.49922541 -17.83152595]
 [-50.25136791 -10.39928915  -6.63124912]
 [-53.12214603 -38.11717278  34.63077387]
 [-44.98768633 -21.46208684   8.45106935]
 [ -3.46808511   2.76595745 -10.91489362]
 [  6.45205479   3.70547945 -11.23287671]
 [ -4.46764253 -50.63995891 -13.20005136]
 [ -3.64342857 -66.68971429 -23.60742857]
 [ -4.04270938 -57.24758091 -38.75942609]
 [ -6.17316943 -25.68163193  57.79975058]
 [-57.46055697 -27.80877621 -12.65871519]
 [  5.4625651   21.54329427  28.04296875]
 [ 37.53156103  12.98349921  47.44722368]
 [  9.32470444 -79.53383612  23.1946596 ]
 [ 22.6098635   -4.56230735 -31.95640687]
 [ 34.79281102 -43.04760528 -20.99951817]
 [ 46.24613187 -65.41561533  30.40984289]
 [ 49.02416244 -28.17928934 -27.29678511]
 [  7.90322581 -44.98354839  19.30645161]
 [ 32.80915227 -86.42231717   2.04755712]
 [ 22.2122093   36.89347337 -17.91757314]
 [ 13.6988191  -66.42386874  -5.03918905]
 [  5.23006135  37.48432175 -17.26993865]
 [ 58.32844866 -25.23297708 -12.50093654]
 [ 24.10399334 -29.37895175 -18.43427621]
 [  7.53763026 -24.85488228  58.69490544]
 [ 48.40639193  15.13254836  13.54583684]
 [ 42.43845252  34.29503712 -11.10746385]
 [ 48.22581281  32.69162562   4.66876847]
 [ 12.23624954 -79.71576227   7.05204873]
 [ 45.29406347 -21.88872143  43.83195177]
 [  5.79049467 -16.93622696  39.24515034]
 [ 41.46036719  -7.7177768   44.17087537]
 [  9.59039273 -57.63299253  37.98847777]
 [ -5.28925825  20.86876706  31.68097246]
 [ 39.24827087  43.88000643  17.95375583]
 [ 13.54483621  34.52466355  38.67653984]
 [ 25.51007813 -60.26367188  53.30015625]
 [ 51.52368964  -6.54267157  -8.07164795]
 [ 54.18698939 -35.04665191  36.22738032]
 [-35.83066274  12.09024484  47.08011793]
 [  5.86218182  37.532        2.95709091]
 [ 46.06022409 -17.97478992   8.11204482]
 [ 37.50006131   2.23874923   0.19264255]
 [ -7.08703156 -81.85428994  21.14423077]
 [-22.87226126  -5.03183134 -32.04257958]
 [-36.15644349 -46.70172542 -20.03937918]
 [-41.55397548 -70.55625079  32.08886361]
 [-48.32543193 -28.42695232 -28.30117484]
 [ -6.3807937  -46.63617086  19.25295365]
 [-29.8504807  -89.22470943   1.50272636]
 [-22.22757966  36.75416755 -17.43680101]
 [-13.29384318 -67.50893365  -5.87891203]
 [ -5.10974742  41.00942725 -16.83137673]
 [-43.53290192 -23.8616872   43.53906128]
 [ -5.21337127 -18.39260313  39.69630156]]
* error : <undefined>
* function_str : def get_node_membership(network, infile, coords, labels, parc, parcel_list, perc_overlap=0.75, error=4):
    """
    Evaluate the affinity of any arbitrary list of coordinate or parcel nodes for a user-specified RSN based on
    Yeo-7 or Yeo-17 definitions.

    Parameters
    ----------
    network : str
        Resting-state network based on Yeo-7 and Yeo-17 naming (e.g. 'Default') used to filter nodes in the study of
        brain subgraphs.
    infile : str
        File path to Nifti1Image object whose affine will provide sampling reference for evaluation spatial proximity.
    coords : list
        List of (x, y, z) tuples in mm-space corresponding to a coordinate atlas used or
        which represent the center-of-mass of each parcellation node.
    labels : list
        List of string labels corresponding to ROI nodes.
    parc : bool
        Indicates whether to use parcels instead of coordinates as ROI nodes.
    parcel_list : list
        List of 3D boolean numpy arrays or binarized Nifti1Images corresponding to ROI masks.
    perc_overlap : float
        Value 0-1 indicating a threshold of spatial overlap to use as a spatial error cushion in the case of
        evaluating RSN membership from a given list of parcel masks. Default is 0.75.
    error : int
        Rounded euclidean distance, in units of voxel number, to use as a spatial error cushion in the case of
        evaluating RSN membership from a given list of coordinates. Default is 4.

    Returns
    -------
    coords_mm : list
        Filtered list of (x, y, z) tuples in mm-space with a spatial affinity for the specified RSN.
    RSN_parcels : list
        Filtered list of 3D boolean numpy arrays or binarized Nifti1Images corresponding to ROI masks with a spatial
        affinity for the specified RSN.
    net_labels : list
        Filtered list of string labels corresponding to ROI nodes with a spatial affinity for the specified RSN.
    network : str
        Resting-state network based on Yeo-7 and Yeo-17 naming (e.g. 'Default') used to filter nodes in the study of
        brain subgraphs.
    """
    import warnings
    warnings.filterwarnings("ignore")
    from nilearn.image import resample_img
    from pynets.nodemaker import get_sphere, mmToVox, VoxTomm
    import pkg_resources
    import pandas as pd

    # Determine whether input is from 17-networks or 7-networks
    seven_nets = ['Vis', 'SomMot', 'DorsAttn', 'SalVentAttn', 'Limbic', 'Cont', 'Default']
    seventeen_nets = ['VisCent', 'VisPeri', 'SomMotA', 'SomMotB', 'DorsAttnA', 'DorsAttnB', 'SalVentAttnA',
                      'SalVentAttnB', 'LimbicOFC', 'LimbicTempPole', 'ContA', 'ContB', 'ContC', 'DefaultA', 'DefaultB',
                      'DefaultC', 'TempPar']

    # Load subject func data
    bna_img = nib.load(infile)
    x_vox = np.diagonal(bna_img.affine[:3, 0:3])[0]
    y_vox = np.diagonal(bna_img.affine[:3, 0:3])[1]
    z_vox = np.diagonal(bna_img.affine[:3, 0:3])[2]

    if network in seventeen_nets:
        if x_vox <= 1 and y_vox <= 1 and z_vox <= 1:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/BIGREF1mm.nii.gz")
        else:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/BIGREF2mm.nii.gz")

        # Grab RSN reference file
        nets_ref_txt = pkg_resources.resource_filename("pynets", "rsnrefs/Schaefer2018_1000_17nets_ref.txt")
    elif network in seven_nets:
        if x_vox <= 1 and y_vox <= 1 and z_vox <= 1:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/SMALLREF1mm.nii.gz")
        else:
            par_file = pkg_resources.resource_filename("pynets", "rsnrefs/SMALLREF2mm.nii.gz")

        # Grab RSN reference file
        nets_ref_txt = pkg_resources.resource_filename("pynets", "rsnrefs/Schaefer2018_1000_7nets_ref.txt")
    else:
        nets_ref_txt = None

    if not nets_ref_txt:
        raise ValueError("%s%s%s" % ('Network: ', str(network), ' not found!\nSee valid network names using the --help '
                                                                'flag with pynets_run.py'))

    # Create membership dictionary
    dict_df = pd.read_csv(nets_ref_txt, sep="\t", header=None, names=["Index", "Region", "X", "Y", "Z"])
    dict_df.Region.unique().tolist()
    ref_dict = {v: k for v, k in enumerate(dict_df.Region.unique().tolist())}
    par_img = nib.load(par_file)
    par_data = par_img.get_fdata()
    RSN_ix = list(ref_dict.keys())[list(ref_dict.values()).index(network)]
    RSNmask = par_data[:, :, :, RSN_ix]
    bna_aff = bna_img.affine

    coords_vox = []
    for i in coords:
        coords_vox.append(mmToVox(bna_aff, i))
    coords_vox = list(tuple(map(lambda y: isinstance(y, float) and int(round(y, 0)), x)) for x in coords_vox)
    if parc is False:
        i = -1
        RSN_parcels = None
        RSN_coords_vox = []
        net_labels = []
        for coords in coords_vox:
            sphere_vol = np.zeros(RSNmask.shape, dtype=bool)
            sphere_vol[tuple(coords)] = 1
            i = i + 1
            if (RSNmask.astype('bool') & sphere_vol).any():
                print("%s%s%s%s" % (coords, ' coords falls within ', network, '...'))
                RSN_coords_vox.append(coords)
                net_labels.append(labels[i])
                continue
            else:
                inds = get_sphere(coords, error, (np.abs(x_vox), y_vox, z_vox), RSNmask.shape)
                sphere_vol[tuple(inds.T)] = 1
                if (RSNmask.astype('bool') & sphere_vol).any():
                    print("%s%s%.2f%s%s%s" % (coords, ' coords is within a + or - ', float(error),
                                              ' mm neighborhood of ',
                                              network, '...'))
                    RSN_coords_vox.append(coords)
                    net_labels.append(labels[i])

        coords_mm = []
        for i in RSN_coords_vox:
            coords_mm.append(VoxTomm(bna_aff, i))
        coords_mm = list(set(list(tuple(x) for x in coords_mm)))
    else:
        i = 0
        RSN_parcels = []
        coords_with_parc = []
        net_labels = []
        for parcel in parcel_list:
            parcel_vol = np.zeros(RSNmask.shape, dtype=bool)
            parcel_data_reshaped = resample_img(parcel, target_affine=par_img.affine,
                                                target_shape=RSNmask.shape).get_fdata()
            parcel_vol[parcel_data_reshaped == 1] = 1

            # Count number of unique voxels where overlap of parcel and mask occurs
            overlap_count = len(np.unique(np.where((RSNmask.astype('uint8') == 1) & (parcel_vol.astype('uint8') == 1))))

            # Count number of total unique voxels within the parcel
            total_count = len(np.unique(np.where((parcel_vol.astype('uint8') == 1))))

            # Calculate % overlap
            try:
                overlap = float(overlap_count / total_count)
            except RuntimeWarning:
                print('\nWarning: No overlap with roi mask!\n')
                overlap = float(0)

            if overlap >= perc_overlap:
                print("%.2f%s%s%s%s%s" % (100 * overlap, '% of parcel ', labels[i], ' falls within ', str(network),
                                          ' mask...'))
                RSN_parcels.append(parcel)
                coords_with_parc.append(coords[i])
                net_labels.append(labels[i])
            i = i + 1
        coords_mm = list(set(list(tuple(x) for x in coords_with_parc)))

    bna_img.uncache()
    if len(coords_mm) <= 1:
        raise ValueError("%s%s%s" % ('\nERROR: No coords from the specified atlas found within ', network, ' network.'))

    return coords_mm, RSN_parcels, net_labels, network

* infile : /usr/local/fsl/data/standard/MNI152_T1_2mm_brain.nii.gz
* labels : [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan]
* network : SalVentAttn
* networks_list : None
* par_max : 96
* parc : True
* parcel_list : [<nibabel.nifti1.Nifti1Image object at 0xa1cdd20b8>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71828>, <nibabel.nifti1.Nifti1Image object at 0xd1ed718d0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed719b0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71b00>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71c50>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71da0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed71ef0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91080>, <nibabel.nifti1.Nifti1Image object at 0xd1ed911d0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91320>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91470>, <nibabel.nifti1.Nifti1Image object at 0xd1ed915c0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91710>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91860>, <nibabel.nifti1.Nifti1Image object at 0xd1ed919b0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91b00>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91c50>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91da0>, <nibabel.nifti1.Nifti1Image object at 0xd1ed91ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774080>, <nibabel.nifti1.Nifti1Image object at 0xa1c7741d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774320>, <nibabel.nifti1.Nifti1Image object at 0xa1c774470>, <nibabel.nifti1.Nifti1Image object at 0xa1c7745c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774710>, <nibabel.nifti1.Nifti1Image object at 0xa1c774860>, <nibabel.nifti1.Nifti1Image object at 0xa1c7749b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774b00>, <nibabel.nifti1.Nifti1Image object at 0xa1c774c50>, <nibabel.nifti1.Nifti1Image object at 0xa1c774da0>, <nibabel.nifti1.Nifti1Image object at 0xa1c774ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f080>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f320>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f470>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f5c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f710>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f860>, <nibabel.nifti1.Nifti1Image object at 0xa1c77f9b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fb00>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fc50>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fda0>, <nibabel.nifti1.Nifti1Image object at 0xa1c77fef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a080>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a320>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a470>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a5c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a710>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a860>, <nibabel.nifti1.Nifti1Image object at 0xa1c78a9b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78ab00>, <nibabel.nifti1.Nifti1Image object at 0xa1c78ac50>, <nibabel.nifti1.Nifti1Image object at 0xa1c78ada0>, <nibabel.nifti1.Nifti1Image object at 0xa1c78aef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794080>, <nibabel.nifti1.Nifti1Image object at 0xa1c7941d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794320>, <nibabel.nifti1.Nifti1Image object at 0xa1c794470>, <nibabel.nifti1.Nifti1Image object at 0xa1c7945c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794710>, <nibabel.nifti1.Nifti1Image object at 0xa1c794860>, <nibabel.nifti1.Nifti1Image object at 0xa1c7949b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794b00>, <nibabel.nifti1.Nifti1Image object at 0xa1c794c50>, <nibabel.nifti1.Nifti1Image object at 0xa1c794da0>, <nibabel.nifti1.Nifti1Image object at 0xa1c794ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e080>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e320>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e470>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e5c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e710>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e860>, <nibabel.nifti1.Nifti1Image object at 0xa1c79e9b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79eb00>, <nibabel.nifti1.Nifti1Image object at 0xa1c79ec50>, <nibabel.nifti1.Nifti1Image object at 0xa1c79eda0>, <nibabel.nifti1.Nifti1Image object at 0xa1c79eef0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9080>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a91d0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9320>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9470>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a95c0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9710>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9860>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a99b0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9b00>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9c50>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9da0>, <nibabel.nifti1.Nifti1Image object at 0xa1c7a9ef0>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c080>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c1d0>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c320>, <nibabel.nifti1.Nifti1Image object at 0xa1d76c470>]
* perc_overlap : <undefined>


Execution Outputs
-----------------


* net_coords : [(54.18698938688249, -35.04665190501642, 36.22738031610292), (-13.293843177421195, -67.50893365198588, -5.878912029133943), (7.537630258587413, -24.854882284832115, 58.69490544191433), (-5.213371266002838, -18.392603129445234, 39.69630156472262), (22.609863496257162, -4.5623073535887215, -31.956406869220608), (-29.850480700243935, -89.22470942746449, 1.5027263595924865), (-6.173169428113312, -25.681631925886336, 57.79975057901299), (20.55077720207254, -2.8352331606217547, -0.7077720207253861), (-4.042709376042708, -57.24758091424758, -38.759426092759426), (5.230061349693258, 37.48432174505794, -17.26993865030675), (24.10399334442596, -29.37895174708818, -18.434276206322792), (-22.872261264985525, -5.03183133526251, -32.042579578338156), (34.79281102438084, -43.04760528090971, -20.99951816517298), (-35.830662735546724, 12.090244840405063, 47.08011793359826), (13.69881910335458, -66.42386874281534, -5.0391890479673975)]
* net_labels : [nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan, nan]
* net_parcel_list : [<nibabel.nifti1.Nifti1Image object at 0xdb3da15c0>, <nibabel.nifti1.Nifti1Image object at 0xdb3da1ef0>, <nibabel.nifti1.Nifti1Image object at 0xdb3da1f98>, <nibabel.nifti1.Nifti1Image object at 0xdb3db0320>, <nibabel.nifti1.Nifti1Image object at 0xdb3db03c8>, <nibabel.nifti1.Nifti1Image object at 0xdb3db07b8>, <nibabel.nifti1.Nifti1Image object at 0xdb3db0860>, <nibabel.nifti1.Nifti1Image object at 0xdb3db09b0>, <nibabel.nifti1.Nifti1Image object at 0xdb3db0a58>, <nibabel.nifti1.Nifti1Image object at 0xdb3dc13c8>, <nibabel.nifti1.Nifti1Image object at 0xdb3dc1470>, <nibabel.nifti1.Nifti1Image object at 0xdb3dc17b8>, <nibabel.nifti1.Nifti1Image object at 0xdb3dc1b00>, <nibabel.nifti1.Nifti1Image object at 0xdb3dc1c50>, <nibabel.nifti1.Nifti1Image object at 0xdb3dc1e48>]
* network : SalVentAttn


Runtime info
------------


* duration : 44.747303
* hostname : dpys
* prev_wd : /Users/derekpisner
* working_dir : /Users/derekpisner/Applications/PyNets/tests/examples/002/dmri/wf_single_subject_dmri_0021001/wf_single_sub_0021001_dmri_42/meta_wf_0021001/dmri_connectometry_0021001/_network_SalVentAttn/get_node_membership_node


Environment
~~~~~~~~~~~


* ANTSPATH : /Users/derekpisner/bin/ants/bin/
* Apple_PubSub_Socket_Render : /private/tmp/com.apple.launchd.VKfenSaB7x/Render
* CONDA_DEFAULT_ENV : base
* CONDA_EXE : /usr/local/anaconda3/bin/conda
* CONDA_PREFIX : /usr/local/anaconda3
* CONDA_PROMPT_MODIFIER : (base) 
* CONDA_SHLVL : 1
* CPPFLAGS : -I/usr/local/opt/libxml2/include
* DISPLAY : dpys:0.0
* DYLD_LIBRARY_PATH : /Applications/freesurfer/lib/gcc/lib::/opt/X11/lib/flat_namespace
* FIX_VERTEX_AREA : 
* FMRI_ANALYSIS_DIR : /Applications/freesurfer/fsfast
* FREESURFER_HOME : /Applications/freesurfer
* FSFAST_HOME : /Applications/freesurfer/fsfast
* FSF_OUTPUT_FORMAT : nii.gz
* FSLDIR : /usr/local/fsl
* FSLGECUDAQ : cuda.q
* FSLLOCKDIR : 
* FSLMACHINELIST : 
* FSLMULTIFILEQUIT : TRUE
* FSLOUTPUTTYPE : NIFTI_GZ
* FSLREMOTECALL : 
* FSLTCLSH : /usr/local/fsl/bin/fsltclsh
* FSLWISH : /usr/local/fsl/bin/fslwish
* FSL_BIN : /usr/local/fsl/bin
* FSL_DIR : /usr/local/fsl
* FS_OVERRIDE : 0
* FUNCTIONALS_DIR : /Applications/freesurfer/sessions
* HOME : /Users/derekpisner
* LANG : en_US.UTF-8
* LDFLAGS : -L/usr/local/opt/libxml2/lib
* LOCAL_DIR : /Applications/freesurfer/local
* LOGNAME : derekpisner
* MINC_BIN_DIR : /Applications/freesurfer/mni/bin
* MINC_LIB_DIR : /Applications/freesurfer/mni/lib
* MNI_DATAPATH : /Applications/freesurfer/mni/data
* MNI_DIR : /Applications/freesurfer/mni
* MNI_PERL5LIB : /Applications/freesurfer/mni/lib/../Library/Perl/Updates/5.12.3
* OS : Darwin
* PATH : /Users/derekpisner/bin/ants/bin/:/usr/local/opt/libxml2/bin:/Applications/freesurfer/bin:/Applications/freesurfer/fsfast/bin:/Applications/freesurfer/tktools:/usr/local/fsl/bin:/Applications/freesurfer/mni/bin:/usr/local/fsl/bin:/Users/derekpisner/anaconda3/bin:/Users/derekpisner/bin/ants/bin/:/usr/local/opt/libxml2/bin:/Applications/freesurfer/bin:/Applications/freesurfer/fsfast/bin:/Applications/freesurfer/tktools:/usr/local/fsl/bin:/Applications/freesurfer/mni/bin:/usr/local/fsl/bin:/usr/local/anaconda3/bin:/usr/local/anaconda3/condabin:/Users/derekpisner/anaconda3/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Library/TeX/texbin:/opt/X11/bin:/Users/derekpisner/abin:/Users/derekpisner/abin
* PERL5LIB : /Applications/freesurfer/mni/lib/../Library/Perl/Updates/5.12.3
* PWD : /Users/derekpisner
* SHELL : /bin/bash
* SHLVL : 3
* SSH_AUTH_SOCK : /private/tmp/com.apple.launchd.qmAkE8F40f/Listeners
* SUBJECTS_DIR : /Applications/freesurfer/subjects
* TERM : xterm-256color
* TERM_PROGRAM : Apple_Terminal
* TERM_PROGRAM_VERSION : 421.1.1
* TERM_SESSION_ID : AFAF5DB1-79BD-4BC9-B7BB-C754B1B9AAB6
* TMPDIR : /var/folders/r1/p8kclf5j3v74m4l5l4__jty00000gn/T/
* USER : derekpisner
* XPC_FLAGS : 0x0
* XPC_SERVICE_NAME : 0
* _ : /usr/local/anaconda3/bin/pynets_run.py
* _CE_CONDA : 
* _CE_M : 
* __CF_USER_TEXT_ENCODING : 0x1F5:0x0:0x0

